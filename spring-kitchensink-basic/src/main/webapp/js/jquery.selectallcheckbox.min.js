/*
 * SelectAllCheckbox v3.0
 * https://www.github.com/kloverde/jquery-SelectAllCheckbox
 *
 * Donations:  https://paypal.me/KurtisLoVerde/5
 *
 * Copyright (c) 2016, Kurtis LoVerde
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 *    1. Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *    2. Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *    3. Neither the name of the copyright holder nor the names of its
 *       contributors may be used to endorse or promote products derived from
 *       this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

!function(a){"use strict";a.fn.selectAllCheckbox=function(b){function i(){var b=a(g),c=0,h=null;b.each(function(){if(!0===a(this).prop("checked")&&c++,0===c)h=d;else if(c<b.length)h=e;else{if(c!==b.length)throw"Impossible result:  more checkboxes checked than actually exist";h=f}j(h)})}function j(a){"some"===a?(h.prop("checked",!1),c.useIndeterminate&&h.prop("indeterminate",!0)):"all"===a?(h.prop("indeterminate",!1),h.prop("checked",!0)):"none"===a&&(h.prop("indeterminate",!1),h.prop("checked",!1))}var c=a.extend({checkboxesName:"checkboxes",onChangeCallback:void 0,useIndeterminate:!0},b),d="none",e="some",f="all",g="input[type='checkbox'][name='"+c.checkboxesName+"']",h=this;return i(),h.click(function(){var b=a(g),h=b.filter(":enabled"),i=h.filter(":not(:checked)"),k=i.length>0,l=[];h.each(function(){var b=a(this);b.prop("checked")!==k&&(b.prop("checked",k),l.push(b))});var m=0;if(b.each(function(){a(this).is(":checked")&&m++}),0===m)status=d;else if(m<b.length)status=e;else{if(m!==b.length)throw"Impossible result:  more checkboxes checked than actually exist";status=f}j(status),l.length>0&&"function"==typeof c.onChangeCallback&&c.onChangeCallback(l,status)}),a(g).each(function(){var b=a(this);b.change(function(){var h=!1,i=!1,k=d;if(a(g).each(function(){!0===a(this).prop("checked")?h=!0:i=!0}),h&&i?k=e:h&&!i?k=f:h||(k=d),j(k),"function"==typeof c.onChangeCallback){var l=[b];c.onChangeCallback(l,k)}})}),h}}(jQuery);
